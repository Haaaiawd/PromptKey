<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="theme-light">
    <!-- 调试信息显示区域 - 移到左上角 -->
    <div id="debug-info" style="position: fixed; top: 10px; left: 10px; background: #f0f0f0; padding: 10px; border: 1px solid #ccc; font-family: monospace; font-size: 12px; max-width: 250px; z-index: 9999; border-radius: 5px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
            <strong>调试信息</strong>
            <button onclick="document.getElementById('debug-content').style.display = document.getElementById('debug-content').style.display === 'none' ? 'block' : 'none'" style="padding: 2px 6px; font-size: 10px;">切换</button>
        </div>
        <div id="debug-content" style="max-height: 200px; overflow-y: auto;">JavaScript未加载</div>
        <div style="margin-top: 5px;">
            <button onclick="window.testFunction ? window.testFunction() : alert('testFunction不存在')" style="margin-right: 3px; padding: 2px 6px; font-size: 10px;">测试JS</button>
            <button onclick="window.clearDebugInfo ? window.clearDebugInfo() : alert('清除功能不可用')" style="margin-right: 3px; padding: 2px 6px; font-size: 10px;">清除</button>
            <button onclick="window.copyDebugLogs ? window.copyDebugLogs() : alert('复制功能不可用')" style="margin-right: 3px; padding: 2px 6px; font-size: 10px;">复制日志</button>
            <button onclick="window.testButtonBinding ? window.testButtonBinding() : alert('测试功能不可用')" style="padding: 2px 6px; font-size: 10px;">测试按钮</button>
        </div>
    </div>
    
    <div class="app-container">
        <!-- 顶部状态栏 -->
        <header class="app-header">
            <div class="header-left">
                <h1>Prompt Manager</h1>
            </div>
            <div class="header-right">
                <div class="app-status">
                    <span class="status-label">状态:</span>
                    <span class="status-active">运行中</span>
                </div>
            </div>
        </header>
        
        <!-- 主要内容区域 -->
        <main class="main-content">
            <!-- 侧边栏导航 -->
            <nav class="sidebar">
                <ul class="nav-list">
                    <li><button id="prompts-btn" class="nav-btn active" type="button">提示词</button></li>
                    <li><button id="settings-btn" class="nav-btn" type="button">设置</button></li>
                    <li><button id="market-btn" class="nav-btn" type="button">市场</button></li>
                    <li><button id="logs-btn" class="nav-btn" type="button">日志</button></li>
                </ul>
                
                <div class="help-section">
                    <h3>使用帮助</h3>
                    <ul>
                        <li>1. 使用快捷键调用提示词</li>
                        <li>2. 默认快捷键: Ctrl+Alt+Space</li>
                        <li>3. 在任何文本编辑器中使用</li>
                    </ul>
                </div>
            </nav>
            
            <!-- 内容面板 -->
            <div class="content-area">
                <!-- 提示词面板 -->
                <div id="prompts-panel" class="panel active">
                    <div class="panel-header">
                        <h2>提示词管理</h2>
                        <button id="add-prompt-btn" class="primary-btn" type="button">
                            <i class="icon-plus"></i> 添加提示词
                        </button>
                    </div>
                    <div class="panel-content">
                        <div class="prompt-list">
                            <!-- 提示词列表将在这里显示 -->
                            <div class="empty-state">
                                <p>暂无提示词</p>
                                <p class="hint">点击"添加提示词"按钮创建第一个提示词</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 设置面板 -->
                <div id="settings-panel" class="panel">
                    <div class="panel-header">
                        <h2>设置</h2>
                    </div>
                    <div class="panel-content">
                        <div class="settings-section">
                            <h3>快捷键设置</h3>
                            <div class="setting-item">
                                <label for="hotkey-input">触发快捷键</label>
                                <div class="hotkey-input-group">
                                    <input type="text" id="hotkey-input" class="form-input" readonly>
                                    <button id="hotkey-record-btn" class="secondary-btn" type="button">录制</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3>注入设置</h3>
                            <div class="setting-item">
                                <label for="injection-mode">注入模式</label>
                                <select id="injection-mode">
                                    <option value="append">追加模式</option>
                                    <option value="replace">替换模式</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3>界面设置</h3>
                            <div class="setting-item">
                                <label for="theme-select">主题</label>
                                <select id="theme-select">
                                    <option value="light">浅色主题</option>
                                    <option value="dark">深色主题</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="settings-actions">
                            <button id="save-settings-btn" class="primary-btn" type="button">保存设置</button>
                            <button id="reset-settings-btn" class="secondary-btn" type="button">重置</button>
                        </div>
                    </div>
                </div>
                
                <div id="market-panel" class="panel">
                    <div class="panel-header">
                        <h2>提示词市场</h2>
                    </div>
                    <div class="panel-content">
                        <div class="market-toolbar">
                            <div class="search-box">
                                <input type="text" id="market-search" placeholder="搜索提示词模板...">
                                <button id="market-search-btn" class="btn-icon" type="button" title="搜索" aria-label="搜索">
                                    <i class="icon-search"></i>
                                </button>
                            </div>
                            <button id="refresh-market-btn" class="secondary-btn" type="button" title="刷新" aria-label="刷新">
                                <i class="icon-refresh"></i> 刷新
                            </button>
                        </div>
                        <div class="market-list" id="market-list">
                            <!-- 市场提示词模板将在这里显示 -->
                            <div class="empty-state">
                                <p>暂无提示词模板</p>
                                <p class="hint">点击刷新按钮获取最新模板</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="logs-panel" class="panel">
                    <div class="panel-header">
                        <h2>使用日志</h2>
                    </div>
                    <div class="panel-content">
                        <div class="logs-toolbar">
                            <div class="search-box">
                                <input type="text" id="logs-search" placeholder="搜索日志...">
                                <button id="logs-search-btn" class="btn-icon" type="button" title="搜索日志" aria-label="搜索日志">
                                    <i class="icon-search"></i>
                                </button>
                            </div>
                            <button id="clear-logs-btn" class="secondary-btn" type="button" title="清空日志" aria-label="清空日志">
                                <i class="icon-delete"></i> 清空日志
                            </button>
                        </div>
                        <div class="logs-list" id="logs-list">
                            <!-- 日志条目将在这里显示 -->
                            <div class="empty-state">
                                <p>暂无使用日志</p>
                                <p class="hint">使用提示词后会在这里显示记录</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script type="module" src="main_simple.js"></script>
</body>
</html>